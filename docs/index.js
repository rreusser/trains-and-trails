!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
t=function(){return e};var e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=b(a,n);if(u){if(u===s)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=_(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function _(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var s={};function f(){}function h(){}function p(){}var d={};l(d,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==n&&r.call(y,i)&&(d=y);var m=p.prototype=f.prototype=Object.create(d);function g(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(o,i,a,u){var l=_(t[o],t,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==typeof s&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(s).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,u)}))}u(l.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=_(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,s;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=p,l(m,"constructor",p),l(p,"constructor",h),h.displayName=l(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,l(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},e.awrap=function(t){return{__await:t}},g(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),l(m,u,"Generator"),l(m,i,(function(){return this})),l(m,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function e(t,e,n,r,o,i,a){try{var u=t[i](a),l=u.value}catch(t){return void n(t)}u.done?e(l):Promise.resolve(l).then(r,o)}function n(t){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=t.apply(n,r);function u(t){e(a,o,i,u,l,"next",t)}function l(t){e(a,o,i,u,l,"throw",t)}u(void 0)}))}}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){l=!0,i=t},f:function(){try{u||null==n.return||n.return()}finally{if(l)throw i}}}}var c,_,s,f,h,p,d,v={},y=[],m=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function g(t,e){for(var n in e)t[n]=e[n];return t}function w(t){var e=t.parentNode;e&&e.removeChild(t)}function b(t,e,n){var r,o,i,a={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?c.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===a[i]&&(a[i]=t.defaultProps[i]);return k(t,a,r,o,null)}function k(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++s:o};return null==o&&null!=_.vnode&&_.vnode(i),i}function x(t){return t.children}function E(t,e){this.props=t,this.context=e}function L(t,e){if(null==e)return t.__?L(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?L(t):null}function P(t){var e,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return P(t)}}function S(t){(!t.__d&&(t.__d=!0)&&f.push(t)&&!O.__r++||p!==_.debounceRendering)&&((p=_.debounceRendering)||h)(O)}function O(){for(var t;O.__r=f.length;)t=f.sort((function(t,e){return t.__v.__b-e.__v.__b})),f=[],t.some((function(t){var e,n,r,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(n=[],(r=g({},o)).__v=o.__v+1,M(a,o,r,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,n,null==i?L(o):i,o.__h),W(n,o),o.__e!=i&&P(o)))}))}function C(t,e,n,r,o,i,a,u,l,c){var _,s,f,h,p,d,m,g=r&&r.__k||y,w=g.length;for(n.__k=[],_=0;_<e.length;_++)if(null!=(h=n.__k[_]=null==(h=e[_])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?k(null,h,null,null,h):Array.isArray(h)?k(x,{children:h},null,null,null):h.__b>0?k(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(f=g[_])||f&&h.key==f.key&&h.type===f.type)g[_]=void 0;else for(s=0;s<w;s++){if((f=g[s])&&h.key==f.key&&h.type===f.type){g[s]=void 0;break}f=null}M(t,h,f=f||v,o,i,a,u,l,c),p=h.__e,(s=h.ref)&&f.ref!=s&&(m||(m=[]),f.ref&&m.push(f.ref,null,h),m.push(s,h.__c||p,h)),null!=p?(null==d&&(d=p),"function"==typeof h.type&&h.__k===f.__k?h.__d=l=j(h,l,t):l=A(t,h,f,g,p,l),"function"==typeof n.type&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=L(f))}for(n.__e=d,_=w;_--;)null!=g[_]&&("function"==typeof n.type&&null!=g[_].__e&&g[_].__e==n.__d&&(n.__d=L(r,_+1)),U(g[_],g[_]));if(m)for(_=0;_<m.length;_++)D(m[_],m[++_],m[++_])}function j(t,e,n){for(var r,o=t.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=t,e="function"==typeof r.type?j(r,e,n):A(n,r,r,o,r.__e,e));return e}function A(t,e,n,r,o,i){var a,u,l;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,l=0;(u=u.nextSibling)&&l<r.length;l+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function H(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||m.test(e)?n:n+"px"}function T(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||H(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||H(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?F:N,i):t.removeEventListener(e,i?F:N,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"==typeof n||(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function N(t){this.l[t.type+!1](_.event?_.event(t):t)}function F(t){this.l[t.type+!0](_.event?_.event(t):t)}function M(t,e,n,r,o,i,a,u,l){var s,f,h,p,d,y,m,b,k,P,S,O=e.type;if(void 0!==e.constructor)return null;null!=n.__h&&(l=n.__h,u=e.__e=n.__e,e.__h=null,i=[u]),(s=_.__b)&&s(e);try{t:if("function"==typeof O){if(b=e.props,k=(s=O.contextType)&&r[s.__c],P=s?k?k.props.value:s.__:r,n.__c?m=(f=e.__c=n.__c).__=f.__E:("prototype"in O&&O.prototype.render?e.__c=f=new O(b,P):(e.__c=f=new E(b,P),f.constructor=O,f.render=I),k&&k.sub(f),f.props=b,f.state||(f.state={}),f.context=P,f.__n=r,h=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=O.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=g({},f.__s)),g(f.__s,O.getDerivedStateFromProps(b,f.__s))),p=f.props,d=f.state,h)null==O.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==O.getDerivedStateFromProps&&b!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,P),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,P)||e.__v===n.__v){f.props=b,f.state=f.__s,e.__v!==n.__v&&(f.__d=!1),f.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&a.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,P),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,d,y)}))}f.context=P,f.props=b,f.state=f.__s,(s=_.__r)&&s(e),f.__d=!1,f.__v=e,f.__P=t,s=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(r=g(g({},r),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(y=f.getSnapshotBeforeUpdate(p,d)),S=null!=s&&s.type===x&&null==s.key?s.props.children:s,C(t,Array.isArray(S)?S:[S],e,n,r,o,i,a,u,l),f.base=e.__e,e.__h=null,f.__h.length&&a.push(f),m&&(f.__E=f.__=null),f.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,r,o,i,a,u){var l,_,s,f=n.props,h=e.props,p=e.type,d=0;if("svg"===p&&(o=!0),null!=i)for(;d<i.length;d++)if((l=i[d])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){t=l,i[d]=null;break}if(null==t){if(null===p)return document.createTextNode(h);t=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,h.is&&h),i=null,u=!1}if(null===p)f===h||u&&t.data===h||(t.data=h);else{if(i=i&&c.call(t.childNodes),_=(f=n.props||v).dangerouslySetInnerHTML,s=h.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},d=0;d<t.attributes.length;d++)f[t.attributes[d].name]=t.attributes[d].value;(s||_)&&(s&&(_&&s.__html==_.__html||s.__html===t.innerHTML)||(t.innerHTML=s&&s.__html||""))}if(function(t,e,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in e||T(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||T(t,i,e[i],n[i],r)}(t,h,f,o,u),s)e.__k=[];else if(d=e.props.children,C(t,Array.isArray(d)?d:[d],e,n,r,o&&"foreignObject"!==p,i,a,i?i[0]:n.__k&&L(n,0),u),null!=i)for(d=i.length;d--;)null!=i[d]&&w(i[d]);u||("value"in h&&void 0!==(d=h.value)&&(d!==t.value||"progress"===p&&!d||"option"===p&&d!==f.value)&&T(t,"value",d,f.value,!1),"checked"in h&&void 0!==(d=h.checked)&&d!==t.checked&&T(t,"checked",d,f.checked,!1))}return t}(n.__e,e,n,r,o,i,a,l);(s=_.diffed)&&s(e)}catch(t){e.__v=null,(l||null!=i)&&(e.__e=u,e.__h=!!l,i[i.indexOf(u)]=null),_.__e(t,e,n)}}function W(t,e){_.__c&&_.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){_.__e(t,e.__v)}}))}function D(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){_.__e(t,n)}}function U(t,e,n){var r,o;if(_.unmount&&_.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||D(r,null,e)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(t){_.__e(t,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&U(r[o],e,"function"!=typeof t.type);n||null==t.__e||w(t.__e),t.__e=t.__d=void 0}function I(t,e,n){return this.constructor(t,n)}c=y.slice,_={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},s=0,E.prototype.setState=function(t,e){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=g({},this.state),"function"==typeof t&&(t=t(g({},n),this.props)),t&&g(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),S(this))},E.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),S(this))},E.prototype.render=x,f=[],h="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O.__r=0,d=0;var B=function t(e,n,r,o){var i;n[0]=0;for(var a=1;a<n.length;a++){var u=n[a++],l=n[a]?(n[0]|=u?1:2,r[n[a++]]):n[++a];3===u?o[0]=l:4===u?o[1]=Object.assign(o[1]||{},l):5===u?(o[1]=o[1]||{})[n[++a]]=l:6===u?o[1][n[++a]]+=l+"":u?(i=e.apply(l,t(e,l,r,["",null])),o.push(i),l[0]?n[0]|=2:(n[a-2]=0,n[a]=i)):o.push(l)}return o},G=new Map;var R,z,$,q=function(t){var e=G.get(this);return e||(e=new Map,G.set(this,e)),(e=B(this,e.get(t)||(e.set(t,e=function(t){for(var e,n,r=1,o="",i="",a=[0],u=function(t){1===r&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,t,o):3===r&&(t||o)?(a.push(3,t,o),r=2):2===r&&"..."===o&&t?a.push(4,t,0):2===r&&o&&!t?a.push(5,0,!0,o):r>=5&&((o||!t&&5===r)&&(a.push(r,0,o,n),r=6),t&&(a.push(r,t,0,n),r=6)),o=""},l=0;l<t.length;l++){l&&(1===r&&u(),u(l));for(var c=0;c<t[l].length;c++)e=t[l][c],1===r?"<"===e?(u(),a=[a],r=3):o+=e:4===r?"--"===o&&">"===e?(r=1,o=""):o=e+o[0]:i?e===i?i="":o+=e:'"'===e||"'"===e?i=e:">"===e?(u(),r=1):r&&("="===e?(r=5,n=o,o=""):"/"===e&&(r<5||">"===t[l][c+1])?(u(),3===r&&(a=a[0]),r=a,(a=a[0]).push(2,0,r),r=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(u(),r=2):o+=e),3===r&&"!--"===o&&(r=4,a=a[0])}return u(),a}(t)),e),arguments,[])).length>1?e:e[0]}.bind(b),Z=0,V=[],Y=_.__b,K=_.__r,X=_.diffed,J=_.__c,Q=_.unmount;function tt(t,e){_.__h&&_.__h(z,t,Z||e),Z=0;var n=z.__H||(z.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function et(t){return Z=1,function(t,e,n){var r=tt(R++,2);return r.t=t,r.__c||(r.__=[n?n(e):_t(void 0,e),function(t){var e=r.t(r.__[0],t);r.__[0]!==e&&(r.__=[e,r.__[1]],r.__c.setState({}))}],r.__c=z),r.__}(_t,t)}function nt(t,e){var n=tt(R++,3);!_.__s&&ct(n.__H,e)&&(n.__=t,n.__H=e,z.__H.__h.push(n))}function rt(t){return Z=5,function(t,e){var n=tt(R++,7);return ct(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}((function(){return{current:t}}),[])}function ot(t){var e=z.context[t.__c],n=tt(R++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(z)),e.props.value):t.__}function it(){for(var t;t=V.shift();)if(t.__P)try{t.__H.__h.forEach(ut),t.__H.__h.forEach(lt),t.__H.__h=[]}catch(e){t.__H.__h=[],_.__e(e,t.__v)}}_.__b=function(t){z=null,Y&&Y(t)},_.__r=function(t){K&&K(t),R=0;var e=(z=t.__c).__H;e&&(e.__h.forEach(ut),e.__h.forEach(lt),e.__h=[])},_.diffed=function(t){X&&X(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==V.push(e)&&$===_.requestAnimationFrame||(($=_.requestAnimationFrame)||function(t){var e,n=function(){clearTimeout(r),at&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);at&&(e=requestAnimationFrame(n))})(it)),z=null},_.__c=function(t,e){e.some((function(t){try{t.__h.forEach(ut),t.__h=t.__h.filter((function(t){return!t.__||lt(t)}))}catch(n){e.some((function(t){t.__h&&(t.__h=[])})),e=[],_.__e(n,t.__v)}})),J&&J(t,e)},_.unmount=function(t){Q&&Q(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach((function(t){try{ut(t)}catch(t){e=t}})),e&&_.__e(e,n.__v))};var at="function"==typeof requestAnimationFrame;function ut(t){var e=z,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),z=e}function lt(t){var e=z;t.__c=t.__(),z=e}function ct(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function _t(t,e){return"function"==typeof e?e(t):e}"undefined"!=typeof window&&void 0!==window.mapboxgl&&(mapboxgl.accessToken=process.env.MAPBOX_ACCESS_TOKEN);var st=["background","satellite","sf-bart","sf-muni"],ft=["sf-bart","sf-muni"],ht={type:"FeatureCollection",features:[]};function pt(){return window.innerWidth<1200?{bottom:.45*window.innerHeight,left:.1*window.innerWidth,right:.1*window.innerWidth,top:50}:{left:.1*window.innerWidth,right:.1*window.innerWidth,top:.1*window.innerHeight,bottom:.1*window.innerHeight}}var dt,vt,yt,mt=function(t,e){var n={__c:e="__cC"+d++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(S)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return n.Provider.__=n.Consumer.contextType=n}(new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._onload=[]}var e,n,o;return e=t,(n=[{key:"initialize",value:function(t,e){var n=this;this.map=window.map=new mapboxgl.Map({container:t,style:"mapbox://styles/rreusser/cl3jof9o3000g14le3tzu1ih9",scrollZoom:!1,boxZoom:!1,dragRotate:!1,dragPan:!1,keyboard:!1,doubleClickZoom:!1,touchZoomRotate:!1,interactive:!1,bounds:e,fitBoundsOptions:{padding:pt()},showPadding:!0}),this.map.on("load",(function(){for(n.map.addSource("route",{type:"geojson",data:ht}),n.map.addLayer({id:"routeline",source:"route",type:"line",paint:{"line-color":"#3388ff","line-width":4}});n._onload.length;)n._onload.pop()(n.map);n.loaded=!0}))}},{key:"ready",value:function(){var t=this;return this.loaded?Promise.resolve(this.map):new Promise((function(e){t._onload.push(e)}))}},{key:"clearRoute",value:function(t){t&&this.map.fitBounds(t,{padding:pt()}),this.map.getSource("route").setData(ht);for(var e=0,n=Object.keys(this.map.style._layers);e<n.length;e++){var r=n[e];~st.indexOf(r)||map.setLayoutProperty(r,"visibility","none")}var o,i=l(ft);try{for(i.s();!(o=i.n()).done;){var a=o.value;map.setPaintProperty(a,"line-opacity",1)}}catch(t){i.e(t)}finally{i.f()}}},{key:"setRoute",value:function(t,e,n,r){for(var o=0,i=Object.keys(this.map.style._layers);o<i.length;o++){var a=i[o];~st.indexOf(a)||map.setLayoutProperty(a,"visibility","visible")}this.map.getSource("route").setData(t),this.map.fitBounds(e,{padding:pt()});var u,c=l(ft);try{for(c.s();!(u=c.n()).done;){var _=u.value;map.setPaintProperty(_,"line-opacity",.2)}}catch(t){c.e(t)}finally{c.f()}}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()));function gt(t){var e=ot(mt),n=rt(null);return nt((function(){e.initialize(n.current,t.initialBounds,!t.isHome)}),[]),q(dt||(dt=o(["<div ref=",' class="mbxmap"/>'])),n)}var wt,bt,kt=/^http/,xt=!0;function Et(e){var r=e.page,i=e.setPath,a=rt(null),u=ot(mt),l="/"===r.metadata.path,c=r.metadata.isFront;function _(t){if("A"===t.target.tagName){var e=t.target.getAttribute("href");kt.test(e)||(e.endsWith("/")||(e+="/"),t.stopPropagation(),t.preventDefault(),i(e))}}return nt(n(t().mark((function e(){var n,o;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.ready();case 2:(o=null===(n=r.metadata.assets)||void 0===n?void 0:n.route)?fetch(o).then((function(t){if(!t.ok)throw new Error("404");return t.json()})).then((function(t){u.setRoute(t,r.metadata.bounds,xt)})):u.clearRoute(xt?null:r.metadata.bounds),xt=!1,window.scrollTo(0,0);case 6:case"end":return t.stop()}}),e)}))),[]),nt((function(){if(a.current)return a.current.addEventListener("click",_),function(){return a.current.removeEventListener("click",_)}})),q(vt||(vt=o(['\n    <div class="article_container ','">\n      <div class="article_header">\n        ',"\n        <h1>",'</h1>\n        <div class="article_date">','</div>\n      </div>\n      <div class="article_body" ref='," dangerouslySetInnerHTML=","/>\n    </div>"])),c?"is-front":"",l?"":q(yt||(yt=o(['<a href="/" onClick=',">← Back</a>"])),(function(t){return _(t)})),r.metadata.title,r.metadata.date,a,{__html:r.articleHTML})}function Lt(t){var e=t.active;return q(wt||(wt=o(['<div\n    className="overlay ','"\n  />'])),e?"overlay-isActive":"")}var Pt=new Map;!function(t,e,n){var r,o,i;_.__&&_.__(t,e),o=(r="function"==typeof n)?null:n&&n.__k||e.__k,i=[],M(e,t=(!r&&n||e).__k=b(x,null,[t]),o||v,v,void 0!==e.ownerSVGElement,!r&&n?[n]:o?null:e.firstChild?c.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r),W(i,t)}(b((function(t){var e=i(et(t.page.metadata.path),2),n=e[0],r=e[1],a=i(et(t.page),2),u=a[0],l=a[1],c=i(et(!1),2),_=c[0],s=c[1];return nt((function(){history.pushState({page:u,path:n},"",n),window.addEventListener("popstate",(function(t){r(t.state.path),l(t.state.page)}))}),[]),nt((function(){if(n!==u.metadata.path&&!_){var t="".concat(n,"/index.json").replace(/\/\//g,"/");s(!0),history.pushState({path:t,page:null},"",n),function(t){return Pt.has(t)?Promise.resolve(Pt.get(t)):fetch(t).then((function(t){if(!t.ok)throw new Error("404d!");return t.json()})).then((function(e){return Pt.set(t,e),e}))}(t).then((function(t){l(t),history.replaceState({path:n,page:t},"",n)})).then((function(){return s(!1)}),(function(){return s(!1)}))}})),q(bt||(bt=o(["\n    <"," initialBounds="," isHome=","/>\n    <"," key="," page="," setPath=","/>\n    <"," active=","/>\n  "])),gt,u.metadata.bounds,"/"===u.metadata.path,Et,u.metadata.path,u,r,Lt,_)}),{page:window.page}),document.getElementById("root"))}));
//# sourceMappingURL=index.js.map
