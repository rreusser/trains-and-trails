!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function e(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return E()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,a),o}function c(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function f(){}function p(){}function d(){}var _={};l(_,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(M([])));v&&v!==e&&n.call(v,o)&&(_=v);var g=d.prototype=f.prototype=Object.create(_);function y(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function r(i,o,a,s){var l=c(t[i],t,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=c(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function M(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=d,l(g,"constructor",d),l(d,"constructor",p),p.displayName=l(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,l(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),l(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new b(u(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},y(g),l(g,s,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=M,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:M(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e,r,n,i,o,a){try{var s=t[o](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,l,"next",t)}function l(t){i(a,n,o,s,l,"throw",t)}s(void 0)}))}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t,e,r){return e&&s(t.prototype,e),r&&s(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){s=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=p(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var m,v,g,y,b,w,k,x={},P=[],M=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function E(t,e){for(var r in e)t[r]=e[r];return t}function T(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,r){var n,i,o,a={};for(o in e)"key"==o?n=e[o]:"ref"==o?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?m.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(o in t.defaultProps)void 0===a[o]&&(a[o]=t.defaultProps[o]);return S(t,a,n,i,null)}function S(t,e,r,n,i){var o={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++g:i};return null==i&&null!=v.vnode&&v.vnode(o),o}function C(t){return t.children}function j(t,e){this.props=t,this.context=e}function A(t,e){if(null==e)return t.__?A(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?A(t):null}function O(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return O(t)}}function F(t){(!t.__d&&(t.__d=!0)&&y.push(t)&&!I.__r++||w!==v.debounceRendering)&&((w=v.debounceRendering)||b)(I)}function I(){for(var t;I.__r=y.length;)t=y.sort((function(t,e){return t.__v.__b-e.__v.__b})),y=[],t.some((function(t){var e,r,n,i,o,a;t.__d&&(o=(i=(e=t).__v).__e,(a=e.__P)&&(r=[],(n=E({},i)).__v=i.__v+1,B(a,i,n,e.__n,void 0!==a.ownerSVGElement,null!=i.__h?[o]:null,r,null==o?A(i):o,i.__h),W(r,i),i.__e!=o&&O(i)))}))}function z(t,e,r,n,i,o,a,s,l,u){var c,h,f,p,d,_,m,v=n&&n.__k||P,g=v.length;for(r.__k=[],c=0;c<e.length;c++)if(null!=(p=r.__k[c]=null==(p=e[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?S(null,p,null,null,p):Array.isArray(p)?S(C,{children:p},null,null,null):p.__b>0?S(p.type,p.props,p.key,null,p.__v):p)){if(p.__=r,p.__b=r.__b+1,null===(f=v[c])||f&&p.key==f.key&&p.type===f.type)v[c]=void 0;else for(h=0;h<g;h++){if((f=v[h])&&p.key==f.key&&p.type===f.type){v[h]=void 0;break}f=null}B(t,p,f=f||x,i,o,a,s,l,u),d=p.__e,(h=p.ref)&&f.ref!=h&&(m||(m=[]),f.ref&&m.push(f.ref,null,p),m.push(h,p.__c||d,p)),null!=d?(null==_&&(_=d),"function"==typeof p.type&&p.__k===f.__k?p.__d=l=N(p,l,t):l=G(t,p,f,v,d,l),"function"==typeof r.type&&(r.__d=l)):l&&f.__e==l&&l.parentNode!=t&&(l=A(f))}for(r.__e=_,c=g;c--;)null!=v[c]&&("function"==typeof r.type&&null!=v[c].__e&&v[c].__e==r.__d&&(r.__d=A(n,c+1)),R(v[c],v[c]));if(m)for(c=0;c<m.length;c++)K(m[c],m[++c],m[++c])}function N(t,e,r){for(var n,i=t.__k,o=0;i&&o<i.length;o++)(n=i[o])&&(n.__=t,e="function"==typeof n.type?N(n,e,r):G(r,n,n,i,n.__e,e));return e}function G(t,e,r,n,i,o){var a,s,l;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==r||i!=o||null==i.parentNode)t:if(null==o||o.parentNode!==t)t.appendChild(i),a=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<n.length;l+=2)if(s==i)break t;t.insertBefore(i,o),a=o}return void 0!==a?a:i.nextSibling}function D(t,e,r){"-"===e[0]?t.setProperty(e,r):t[e]=null==r?"":"number"!=typeof r||M.test(e)?r:r+"px"}function H(t,e,r,n,i){var o;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||D(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||D(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=r,r?n||t.addEventListener(e,o?q:U,o):t.removeEventListener(e,o?q:U,o);else if("dangerouslySetInnerHTML"!==e){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null!=r&&(!1!==r||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,r):t.removeAttribute(e))}}function U(t){this.l[t.type+!1](v.event?v.event(t):t)}function q(t){this.l[t.type+!0](v.event?v.event(t):t)}function B(t,e,r,n,i,o,a,s,l){var u,c,h,f,p,d,_,g,y,b,w,k=e.type;if(void 0!==e.constructor)return null;null!=r.__h&&(l=r.__h,s=e.__e=r.__e,e.__h=null,o=[s]),(u=v.__b)&&u(e);try{t:if("function"==typeof k){if(g=e.props,y=(u=k.contextType)&&n[u.__c],b=u?y?y.props.value:u.__:n,r.__c?_=(c=e.__c=r.__c).__=c.__E:("prototype"in k&&k.prototype.render?e.__c=c=new k(g,b):(e.__c=c=new j(g,b),c.constructor=k,c.render=V),y&&y.sub(c),c.props=g,c.state||(c.state={}),c.context=b,c.__n=n,h=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=k.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=E({},c.__s)),E(c.__s,k.getDerivedStateFromProps(g,c.__s))),f=c.props,p=c.state,h)null==k.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==k.getDerivedStateFromProps&&g!==f&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,b),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,b)||e.__v===r.__v){c.props=g,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach((function(t){t&&(t.__=e)})),c.__h.length&&a.push(c);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,b),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(f,p,d)}))}c.context=b,c.props=g,c.state=c.__s,(u=v.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(n=E(E({},n),c.getChildContext())),h||null==c.getSnapshotBeforeUpdate||(d=c.getSnapshotBeforeUpdate(f,p)),w=null!=u&&u.type===C&&null==u.key?u.props.children:u,z(t,Array.isArray(w)?w:[w],e,r,n,i,o,a,s,l),c.base=e.__e,e.__h=null,c.__h.length&&a.push(c),_&&(c.__E=c.__=null),c.__e=!1}else null==o&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=function(t,e,r,n,i,o,a,s){var l,u,c,h=r.props,f=e.props,p=e.type,d=0;if("svg"===p&&(i=!0),null!=o)for(;d<o.length;d++)if((l=o[d])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){t=l,o[d]=null;break}if(null==t){if(null===p)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),o=null,s=!1}if(null===p)h===f||s&&t.data===f||(t.data=f);else{if(o=o&&m.call(t.childNodes),u=(h=r.props||x).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!s){if(null!=o)for(h={},d=0;d<t.attributes.length;d++)h[t.attributes[d].name]=t.attributes[d].value;(c||u)&&(c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(function(t,e,r,n,i){var o;for(o in r)"children"===o||"key"===o||o in e||H(t,o,null,r[o],n);for(o in e)i&&"function"!=typeof e[o]||"children"===o||"key"===o||"value"===o||"checked"===o||r[o]===e[o]||H(t,o,e[o],r[o],n)}(t,f,h,i,s),c)e.__k=[];else if(d=e.props.children,z(t,Array.isArray(d)?d:[d],e,r,n,i&&"foreignObject"!==p,o,a,o?o[0]:r.__k&&A(r,0),s),null!=o)for(d=o.length;d--;)null!=o[d]&&T(o[d]);s||("value"in f&&void 0!==(d=f.value)&&(d!==t.value||"progress"===p&&!d||"option"===p&&d!==h.value)&&H(t,"value",d,h.value,!1),"checked"in f&&void 0!==(d=f.checked)&&d!==t.checked&&H(t,"checked",d,h.checked,!1))}return t}(r.__e,e,r,n,i,o,a,l);(u=v.diffed)&&u(e)}catch(t){e.__v=null,(l||null!=o)&&(e.__e=s,e.__h=!!l,o[o.indexOf(s)]=null),v.__e(t,e,r)}}function W(t,e){v.__c&&v.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){v.__e(t,e.__v)}}))}function K(t,e,r){try{"function"==typeof t?t(e):t.current=e}catch(t){v.__e(t,r)}}function R(t,e,r){var n,i;if(v.unmount&&v.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||K(n,null,e)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){v.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&R(n[i],e,"function"!=typeof t.type);r||null==t.__e||T(t.__e),t.__e=t.__d=void 0}function V(t,e,r){return this.constructor(t,r)}m=P.slice,v={__e:function(t,e,r,n){for(var i,o,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(t)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(e){t=e}throw t}},g=0,j.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=E({},this.state),"function"==typeof t&&(t=t(E({},r),this.props)),t&&E(r,t),null!=t&&this.__v&&(e&&this.__h.push(e),F(this))},j.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),F(this))},j.prototype.render=C,y=[],b="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,I.__r=0,k=0;var Z=function t(e,r,n,i){var o;r[0]=0;for(var a=1;a<r.length;a++){var s=r[a++],l=r[a]?(r[0]|=s?1:2,n[r[a++]]):r[++a];3===s?i[0]=l:4===s?i[1]=Object.assign(i[1]||{},l):5===s?(i[1]=i[1]||{})[r[++a]]=l:6===s?i[1][r[++a]]+=l+"":s?(o=e.apply(l,t(e,l,n,["",null])),i.push(o),l[0]?r[0]|=2:(r[a-2]=0,r[a]=o)):i.push(l)}return i},$=new Map;var J,Q,Y,X=function(t){var e=$.get(this);return e||(e=new Map,$.set(this,e)),(e=Z(this,e.get(t)||(e.set(t,e=function(t){for(var e,r,n=1,i="",o="",a=[0],s=function(t){1===n&&(t||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,t,i):3===n&&(t||i)?(a.push(3,t,i),n=2):2===n&&"..."===i&&t?a.push(4,t,0):2===n&&i&&!t?a.push(5,0,!0,i):n>=5&&((i||!t&&5===n)&&(a.push(n,0,i,r),n=6),t&&(a.push(n,t,0,r),n=6)),i=""},l=0;l<t.length;l++){l&&(1===n&&s(),s(l));for(var u=0;u<t[l].length;u++)e=t[l][u],1===n?"<"===e?(s(),a=[a],n=3):i+=e:4===n?"--"===i&&">"===e?(n=1,i=""):i=e+i[0]:o?e===o?o="":i+=e:'"'===e||"'"===e?o=e:">"===e?(s(),n=1):n&&("="===e?(n=5,r=i,i=""):"/"===e&&(n<5||">"===t[l][u+1])?(s(),3===n&&(a=a[0]),n=a,(a=a[0]).push(2,0,n),n=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(s(),n=2):i+=e),3===n&&"!--"===i&&(n=4,a=a[0])}return s(),a}(t)),e),arguments,[])).length>1?e:e[0]}.bind(L),tt=0,et=[],rt=v.__b,nt=v.__r,it=v.diffed,ot=v.__c,at=v.unmount;function st(t,e){v.__h&&v.__h(Q,t,tt||e),tt=0;var r=Q.__H||(Q.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function lt(t){return tt=1,function(t,e,r){var n=st(J++,2);return n.t=t,n.__c||(n.__=[r?r(e):vt(void 0,e),function(t){var e=n.t(n.__[0],t);n.__[0]!==e&&(n.__=[e,n.__[1]],n.__c.setState({}))}],n.__c=Q),n.__}(vt,t)}function ut(t,e){var r=st(J++,3);!v.__s&&mt(r.__H,e)&&(r.__=t,r.__H=e,Q.__H.__h.push(r))}function ct(t){return tt=5,function(t,e){var r=st(J++,7);return mt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}((function(){return{current:t}}),[])}function ht(t){var e=Q.context[t.__c],r=st(J++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(Q)),e.props.value):t.__}function ft(){for(var t;t=et.shift();)if(t.__P)try{t.__H.__h.forEach(dt),t.__H.__h.forEach(_t),t.__H.__h=[]}catch(e){t.__H.__h=[],v.__e(e,t.__v)}}v.__b=function(t){Q=null,rt&&rt(t)},v.__r=function(t){nt&&nt(t),J=0;var e=(Q=t.__c).__H;e&&(e.__h.forEach(dt),e.__h.forEach(_t),e.__h=[])},v.diffed=function(t){it&&it(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==et.push(e)&&Y===v.requestAnimationFrame||((Y=v.requestAnimationFrame)||function(t){var e,r=function(){clearTimeout(n),pt&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);pt&&(e=requestAnimationFrame(r))})(ft)),Q=null},v.__c=function(t,e){e.some((function(t){try{t.__h.forEach(dt),t.__h=t.__h.filter((function(t){return!t.__||_t(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],v.__e(r,t.__v)}})),ot&&ot(t,e)},v.unmount=function(t){at&&at(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{dt(t)}catch(t){e=t}})),e&&v.__e(e,r.__v))};var pt="function"==typeof requestAnimationFrame;function dt(t){var e=Q,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),Q=e}function _t(t){var e=Q;t.__c=t.__(),Q=e}function mt(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function vt(t,e){return"function"==typeof e?e(t):e}var gt=6371008.8,yt={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:39.37*gt,kilometers:6371.0088,kilometres:6371.0088,meters:gt,metres:gt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:gt/1852,radians:1,yards:6967335.223679999};function bt(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function wt(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Et(t[0])||!Et(t[1]))throw new Error("coordinates must contain numbers");return bt({type:"Point",coordinates:t},e,r)}function kt(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return bt({type:"LineString",coordinates:t},e,r)}function xt(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function Pt(t){return 180*(t%(2*Math.PI))/Math.PI}function Mt(t){return t%360*Math.PI/180}function Et(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function Tt(t,e,r){if(null!==t)for(var n,i,o,a,s,l,u,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,_="Feature"===p,m=d?t.features.length:1,v=0;v<m;v++){s=(c=!!(u=d?t.features[v].geometry:_?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var g=0;g<s;g++){var y=0,b=0;if(null!==(a=c?u.geometries[g]:u)){l=a.coordinates;var w=a.type;switch(h=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(l,f,v,y,b))return!1;f++,y++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],f,v,y,b))return!1;f++,"MultiPoint"===w&&y++}"LineString"===w&&y++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-h;i++){if(!1===e(l[n][i],f,v,y,b))return!1;f++}"MultiLineString"===w&&y++,"Polygon"===w&&b++}"Polygon"===w&&y++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(b=0,i=0;i<l[n].length;i++){for(o=0;o<l[n][i].length-h;o++){if(!1===e(l[n][i][o],f,v,y,b))return!1;f++}b++}y++}break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===Tt(a.geometries[n],e,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Lt(t,e){var r,n,i,o,a,s,l,u,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,_=p?t.features.length:1;for(r=0;r<_;r++){for(s=p?t.features[r].geometry:d?t.geometry:t,u=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,h=p?t.features[r].id:d?t.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,u,c,h))return!1;break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(!1===e(o.geometries[n],f,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,u,c,h))return!1;f++}}function St(t,e){!function(t,e){Lt(t,(function(t,r,n,i,o){var a,s=null===t?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==e(bt(t,n,{bbox:i,id:o}),r,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var u=t.coordinates[l];if(!1===e(bt({type:a,coordinates:u},n),r,l))return!1}}))}(t,(function(t,r,n){var i=0;if(t.geometry){var o=t.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var a,s=0,l=0,u=0;return!1!==Tt(t,(function(o,c,h,f,p){if(void 0===a||r>s||f>l||p>u)return a=o,s=r,l=f,u=p,void(i=0);var d=kt([a,o],t.properties);if(!1===e(d,r,n,p,i))return!1;i++,a=o}))&&void 0}}}))}function Ct(t){var e=[1/0,1/0,-1/0,-1/0];return Tt(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function jt(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function At(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Ot(t,e,r){void 0===r&&(r={});var n=jt(t),i=jt(e),o=Mt(i[1]-n[1]),a=Mt(i[0]-n[0]),s=Mt(n[1]),l=Mt(i[1]),u=Math.pow(Math.sin(o/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(s)*Math.cos(l);return function(t,e){void 0===e&&(e="kilometers");var r=yt[e];if(!r)throw new Error(e+" units is invalid");return t*r}(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)),r.units)}function Ft(t,e){return void 0===e&&(e={}),function(t,e,r){var n=r,i=!1;return St(t,(function(t,o,a,s,l){n=!1===i&&void 0===r?t:e(n,t,o,a,s,l),i=!0})),n}(t,(function(t,r){var n=r.geometry.coordinates;return t+Ot(n[0],n[1],e)}),0)}function It(t,e,r){if(void 0===r&&(r={}),!0===r.final)return function(t,e){var r=It(e,t);return r=(r+180)%360}(t,e);var n=jt(t),i=jt(e),o=Mt(n[0]),a=Mt(i[0]),s=Mt(n[1]),l=Mt(i[1]),u=Math.sin(a-o)*Math.cos(l),c=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(a-o);return Pt(Math.atan2(u,c))}function zt(t,e,r,n){void 0===n&&(n={});var i=jt(t),o=Mt(i[0]),a=Mt(i[1]),s=Mt(r),l=function(t,e){void 0===e&&(e="kilometers");var r=yt[e];if(!r)throw new Error(e+" units is invalid");return t/r}(e,n.units),u=Math.asin(Math.sin(a)*Math.cos(l)+Math.cos(a)*Math.sin(l)*Math.cos(s));return wt([Pt(o+Math.atan2(Math.sin(s)*Math.sin(l)*Math.cos(a),Math.cos(l)-Math.sin(a)*Math.sin(u))),Pt(u)],n.properties)}Ct.default=Ct;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Nt={exports:{}};Nt.exports=function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=i;function i(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}var o=a;function a(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}var s=l;function l(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],l=r[2];return t[0]=i*l-o*s,t[1]=o*a-n*l,t[2]=n*s-i*a,t}var u=c;function c(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}var h=f;function f(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}var p=d;function d(t,e){return t[0]*e[0]+t[1]*e[1]}var _=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.distance,o=void 0===i?1e4:i,a=n.pitch,s=void 0===a?45:a,l=n.bearing,u=void 0===l?0:l;t(this,e),this.map=r,this.MercatorCoordinate=this.map.getFreeCameraOptions().position.constructor,this._distanceTarget=o,this._pitchTarget=s,this._bearingTarget=u,this._centerTarget=this.center=this.MercatorCoordinate.fromLngLat(r.transform.center),this._centerTarget=null,this._center=this._previousCenter=null,this._previousTime=NaN,this._previousLookAtTime=NaN,this._errorIntegral=[0,0,0];var c=1;this.Kp_pan=2.5*c,this.Ki_pan=1.5*c,this.Kd_pan=150*c,this.Kp_pitch=5*c,this.Kp_dist=2*c,this.Kp_bearing=0*c,this._follow=1*c,this._hadTerrain=!1}return r(e,[{key:"_cloneCoord",value:function(t){return new this.MercatorCoordinate(t.x,t.y,t.z)}},{key:"targetDistance",get:function(){return this._distanceTarget},set:function(t){this._distanceTarget=t}},{key:"targetPitch",get:function(){return this._pitchTarget},set:function(t){this._pitchTarget=t}},{key:"targetBearing",get:function(){return this._bearingTarget},set:function(t){this._bearingTarget=t}},{key:"targetCenter",get:function(){return this._centerTarget},set:function(t){var e=this.map.queryTerrainElevation(t)||0;this._centerTarget=this.MercatorCoordinate.fromLngLat(t,e)}},{key:"clear",value:function(){this._center=null}},{key:"setPanPID",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2.5,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;this.Kp_pan=t,this.Ki_pan=e,this.Kd_pan=r}},{key:"setPitchP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.Kp_pitch=t}},{key:"setDistP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.Kp_dist=t}},{key:"setBearingP",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Kp_bearing=t}},{key:"follow",get:function(){return this._follow},set:function(t){this._follow=Math.max(0,Math.min(1,t))}},{key:"tick",value:function(t){if(!this._centerTarget)throw new Error("invalid camera controller state: no target set");var e=1/this._centerTarget.meterInMercatorCoordinateUnits(),r=this.map.getFreeCameraOptions(),i=!!this.map.getTerrain();if(null===this._center){this._center=this._cloneCoord(this._centerTarget),this._previousCenter=this._cloneCoord(this._centerTarget),this._previousLookAtTime=t;var a=this._distanceTarget/e,l=this.map.queryTerrainElevation(this._centerTarget.toLngLat())||0;null!==l&&(this._centerTarget.z=l/e);var c=this._bearingTarget*Math.PI/180,f=this._pitchTarget*Math.PI/180;return r.position.x=this._center.x+Math.sin(f)*Math.sin(c)*a,r.position.y=this._center.y+Math.sin(f)*Math.cos(c)*a,r.position.z=this._center.z+Math.cos(f)*a+l/e,r.lookAtPoint(this._center.toLngLat()),this.map.setFreeCameraOptions(r),void(this._hadTerrain=i)}var d=isNaN(this._previousTime)?0:Math.min(t-this._previousTime,32)/1e3;if(this._previousTime=t,i&&!this._hadTerrain){var _=this.map.queryTerrainElevation(this._centerTarget.toLngLat());null!==_&&(this._centerTarget.z+=_/e,this._hadTerrain=i)}else!i&&this._hadTerrain&&(this._centerTarget.z=0,this._hadTerrain=i);this._center.z=this._centerTarget.z;var m=[this._centerTarget.x-this._center.x,this._centerTarget.y-this._center.y,this._centerTarget.z-this._center.z],v=h(m)*e;this._errorIntegral[0]+=m[0]*d,this._errorIntegral[1]+=m[1]*d,this._errorIntegral[2]+=m[2]*d;var g=[0,0,1],y=[this._centerTarget.x-r.position.x,this._centerTarget.y-r.position.y,this._centerTarget.z-r.position.z],b=o([],y),w=o([],s([],b,g)),k=s([],w,b),x=n(y)*e,P=1-x/this._distanceTarget,M=Math.acos(-y[2]/n(y)),E=this._pitchTarget*(Math.PI/180)-M,T=[Math.cos(this._bearingTarget*(Math.PI/180)),Math.sin(this._bearingTarget*(Math.PI/180))],L=u([],[b[0],b[1]]),S=p(T,L)*Math.sin(M),C=[-S*L[1],S*L[0]],j=this._center.x,A=this._center.y,O=this._center.z,F=this.Ki_pan,I=this.Kp_pan,z=this.Kd_pan,N=this.Kp_dist*(x/e),G=this.Kp_pitch*(x/e),D=this.Kp_bearing*(x/e);if(v*I>this._distanceTarget/1e3||Math.abs(P)*N>1e-8||Math.abs(E)*G>1e-8||h(C)*D>1e-8){var H=[0,0,0];if(this._previousCenter&&!isNaN(this._previousLookAtTime)&&t>this._previousLookAtTime){var U=t-this._previousLookAtTime;H[0]=(this._center.x-this._previousCenter.x)/U,H[1]=(this._center.y-this._previousCenter.y)/U,H[2]=(this._center.z-this._previousCenter.z)/U}var q=(m[0]*I+this._errorIntegral[0]*F+H[0]*z)*d,B=(m[1]*I+this._errorIntegral[1]*F+H[1]*z)*d,W=(m[2]*I+this._errorIntegral[2]*F+H[2]*z)*d;this._center.x+=q,this._center.y+=B,this._center.z+=W,r.position.x+=q*(1-this._follow),r.position.y+=B*(1-this._follow),r.position.z+=W*(1-this._follow),r.position.x-=k[0]*E*G*d,r.position.y-=k[1]*E*G*d,r.position.z-=k[2]*E*G*d,r.position.x+=C[0]*D*d,r.position.y+=C[1]*D*d,o(y,y),r.position.x-=y[0]*P*N*d,r.position.y-=y[1]*P*N*d,r.position.z-=y[2]*P*N*d,r.lookAtPoint(this._center.toLngLat()),this.map.setFreeCameraOptions(r)}this._previousCenter=new this.MercatorCoordinate(j,A,O),this._previousLookAtTime=t}}]),e}();return _}();var Gt=Nt.exports;function Dt(t){var e=At(t);if(2===e.length&&!Ht(e[0],e[1]))return e;var r=[],n=e.length-1,i=r.length;r.push(e[0]);for(var o=1;o<n;o++){var a=r[r.length-1];e[o][0]===a[0]&&e[o][1]===a[1]||(r.push(e[o]),(i=r.length)>2&&Ut(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1))}if(r.push(e[e.length-1]),i=r.length,Ht(e[0],e[e.length-1])&&i<4)throw new Error("invalid polygon");return Ut(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1),r}function Ht(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ut(t,e,r){var n=r[0],i=r[1],o=t[0],a=t[1],s=e[0],l=e[1],u=s-o,c=l-a;return 0===(n-o)*c-(i-a)*u&&(Math.abs(u)>=Math.abs(c)?u>0?o<=n&&n<=s:s<=n&&n<=o:c>0?a<=i&&i<=l:l<=i&&i<=a)}function qt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Bt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(r){switch(r){case"type":case"features":return;default:e[r]=t[r]}})),e.features=t.features.map((function(t){return Bt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Kt(t);default:throw new Error("unknown GeoJSON type")}}function Bt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(r){switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}})),e.properties=Wt(t.properties),e.geometry=Kt(t.geometry),e}function Wt(t){var e={};return t?(Object.keys(t).forEach((function(r){var i=t[r];"object"===n(i)?null===i?e[r]=null:Array.isArray(i)?e[r]=i.map((function(t){return t})):e[r]=Wt(i):e[r]=i})),e):e}function Kt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Kt(t)})),e):(e.coordinates=Rt(t.coordinates),e)}function Rt(t){var e=t;return"object"!==n(e[0])?e.slice():e.map((function(t){return Rt(t)}))}function Vt(t,e,r){var n=e.x,i=e.y,o=r.x-n,a=r.y-i;if(0!==o||0!==a){var s=((t.x-n)*o+(t.y-i)*a)/(o*o+a*a);s>1?(n=r.x,i=r.y):s>0&&(n+=o*s,i+=a*s)}return(o=t.x-n)*o+(a=t.y-i)*a}function Zt(t,e,r,n,i){for(var o,a=n,s=e+1;s<r;s++){var l=Vt(t[s],t[e],t[r]);l>a&&(o=s,a=l)}a>n&&(o-e>1&&Zt(t,e,o,n,i),i.push(t[o]),r-o>1&&Zt(t,o,r,n,i))}function $t(t,e){var r=t.length-1,n=[t[0]];return Zt(t,0,r,e,n),n.push(t[r]),n}function Jt(t,e,r){if(t.length<=2)return t;var n=void 0!==e?e*e:1;return t=r?t:function(t,e){for(var r,n,i,o,a,s=t[0],l=[s],u=1,c=t.length;u<c;u++)r=t[u],i=s,o=void 0,a=void 0,o=(n=r).x-i.x,a=n.y-i.y,o*o+a*a>e&&(l.push(r),s=r);return s!==r&&l.push(r),l}(t,n),t=$t(t,n)}function Qt(t,e){if(!(r=e=e||{})||r.constructor!==Object)throw new Error("options is invalid");var r,i=void 0!==e.tolerance?e.tolerance:1,o=e.highQuality||!1,a=e.mutate||!1;if(!t)throw new Error("geojson is required");if(i&&i<0)throw new Error("invalid tolerance");return!0!==a&&(t=qt(t)),Lt(t,(function(t){!function(t,e,r){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;!function(t,e){void 0===e&&(e={});var r="object"===n(e)?e.mutate:e;if(!t)throw new Error("geojson is required");var i=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}(t),o=[];switch(i){case"LineString":o=Dt(t);break;case"MultiLineString":case"Polygon":At(t).forEach((function(t){o.push(Dt(t))}));break;case"MultiPolygon":At(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Dt(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var a={};At(t).forEach((function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(a,e)||(o.push(t),a[e]=!0)}));break;default:throw new Error(i+" geometry not supported")}t.coordinates?!0===r&&(t.coordinates=o):!0===r?t.geometry.coordinates=o:bt({type:i,coordinates:o},t.properties,{bbox:t.bbox,id:t.id})}(t,!0);var o=t.coordinates;switch(i){case"LineString":t.coordinates=Yt(o,e,r);break;case"MultiLineString":t.coordinates=o.map((function(t){return Yt(t,e,r)}));break;case"Polygon":t.coordinates=Xt(o,e,r);break;case"MultiPolygon":t.coordinates=o.map((function(t){return Xt(t,e,r)}))}}(t,i,o)})),t}function Yt(t,e,r){return Jt(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,r).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function Xt(t,e,r){return t.map((function(t){var n=t.map((function(t){return{x:t[0],y:t[1]}}));if(n.length<4)throw new Error("invalid polygon");for(var i=Jt(n,e,r).map((function(t){return[t.x,t.y]}));!te(i);)i=Jt(n,e-=.01*e,r).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function te(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}var ee={type:"FeatureCollection",features:[]},re=function(t){return 5280*t/1609},ne=function(){function t(e){a(this,t),this.geojson=e,this.simplified=Qt(e,{tolerance:1e-4,highQuality:!0}),this.elevationProfiles=[],this.bboxes={all:Ct(e),foot:Ct(xt(e.features.filter((function(t){return"foot"===t.properties.mode}))))},this.computeElevationProfile(),this._lengthCache=[]}return l(t,[{key:"computeElevationProfile",value:function(){for(var t=0;t<this.geojson.features.length;t++){var e=this.geojson.features[t];if("foot"===e.properties.mode){for(var r=e.geometry.coordinates,n=[{distance:0,elevation:re(r[0][2])}],i=0,o=1;o<r.length;o++)i+=Ft(kt([r[o-1],r[o]]),{units:"kilometers"}),n.push({distance:i,elevation:re(r[o][2])});for(var a=n.map((function(t){return t.elevation})),s=a.slice(),l=0;l<10;l++){for(var u=1;u<a.length-1;u++)s[u]=.5*(a[u-1]+a[u+1]);var c=[s,a];a=c[0],s=c[1]}for(var h=1;h<a.length-1;h++)n[h].elevation=a[h];this.elevationProfiles[t]=n}}}},{key:"getFootFeatureIndex",value:function(){for(var t=0;t<this.geojson.features.length;t++)if("foot"===this.geojson.features[t].properties.mode)return t;return-1}},{key:"getElevationProfile",value:function(){var t=this.getFootFeatureIndex();return this.elevationProfiles[t]}},{key:"featureLength",value:function(t){return void 0===this._lengthCache[t]&&(this._lengthCache[t]=Ft(this.geojson.features[t].geometry)),this._lengthCache[t]}},{key:"getBbox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mode,r=void 0===e?"all":e;return this.bboxes[r]}},{key:"getGeojson",value:function(){return this.geojson}},{key:"evaluate",value:function(t){var e=Math.min(Math.floor(t),this.geojson.features.length-1),r=t-e,n=this.geojson.features[e],i=function(t,e,r){void 0===r&&(r={});for(var n,i=("Feature"===(n=t).type?n.geometry:n).coordinates,o=0,a=0;a<i.length&&!(e>=o&&a===i.length-1);a++){if(o>=e){var s=e-o;if(s){var l=It(i[a],i[a-1])-180;return zt(i[a],s,l,r)}return wt(i[a])}o+=Ot(i[a],i[a+1],r)}return wt(i[i.length-1])}(n.geometry,this.featureLength(e)*r,{units:"kilometers"});return[i.geometry.coordinates,n]}},{key:"getMileMarkers",value:function(){if(!this.geojson)return ee;var t,e=[],r=_(this.geojson.features);try{for(r.s();!(t=r.n()).done;){var n,i,o,a=t.value;e.push.apply(e,f((null===(n=a.properties)||void 0===n||null===(i=n.markers)||void 0===i||null===(o=i.mi)||void 0===o?void 0:o.features)||[]))}}catch(t){r.e(t)}finally{r.f()}return xt(e)}}]),t}();"undefined"!=typeof window&&void 0!==window.mapboxgl&&(mapboxgl.accessToken="pk.eyJ1IjoicnNyZXVzc2VyIiwiYSI6ImNtN2FwejhlbjA2cWgybW9zZHNzOGM2ZGgifQ.E6cjL2Vy-dwktWX2e9NjQw");var ie=["natural-line-label","natural-point-label","water-line-label","water-point-label","poi-label","transit-label","settlement-subdivision-label","settlement-minor-label","settlement-major-label","state-label","country-label"],oe={type:"FeatureCollection",features:[]},ae=wt([0,0]),se=function(){function t(e,r,n,i){var o=this;a(this,t),this.map=window.map=new mapboxgl.Map({container:e,style:"mapbox://styles/rsreusser/ckt5f72080l7r18quyld7h4si",scrollZoom:!1,boxZoom:!1,dragRotate:!1,dragPan:!1,keyboard:!1,doubleClickZoom:!1,touchZoomRotate:!1,interactive:!1,pitch:0,bounds:r,logoPosition:"top-right",fitBoundsOptions:{padding:n}}),this.camera=window.camera=new Gt(this.map),this.map.on("load",(function(){map.loadImage("pin.png",(function(t,e){if(t)throw t;map.addImage("pin",e),o.map.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14});var r=localStorage.getItem("hillshadeResolution"),n=!!r;n&&o.map.addSource("mapbox-dem-2",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:r,maxzoom:14}),o.map.getSource("mapbox://mapbox.satellite").maxzoom=15,o.map.addLayer({id:"hillshade",source:n?"mapbox-dem-2":"mapbox-dem",type:"hillshade",paint:{"hillshade-exaggeration":1,"hillshade-highlight-color":"rgba(255,230,210,0.3)","hillshade-shadow-color":"rgba(0,10,20,1)","hillshade-illumination-anchor":"map","hillshade-illumination-direction":180}},"ferry"),o.map.addSource("route",{type:"geojson",data:oe}),o.map.addSource("mile-markers",{type:"geojson",data:oe}),o.map.addSource("marker-point",{type:"geojson",data:ae});var a="track casing";o.map.addLayer({id:"routeline-bg",source:"route",type:"line",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","mode"],"bus"],"#592556",["==",["get","mode"],"metro"],"#23388f",["==",["get","mode"],"foot"],"#1c381b","black"],"line-width":7}},a),o.map.addLayer({id:"routeline-nonfoot",source:"route",type:"line",filter:["!=",["get","mode"],"foot"],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","mode"],"bus"],"#ba45b6",["==",["get","mode"],"metro"],"#3388ff",["==",["get","mode"],"foot"],"#5cb83b","black"],"line-width":4}},a),o.map.addLayer({id:"routeline-foot",source:"route",type:"line",filter:["==",["get","mode"],"foot"],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["case",["==",["get","mode"],"bus"],"#ba45b6",["==",["get","mode"],"metro"],"#3388ff",["==",["get","mode"],"foot"],"#5cb83b","black"],"line-width":4}},a),o.map.addLayer({id:"marker",source:"marker-point",type:"circle",paint:{"circle-opacity":1,"circle-color":"white","circle-pitch-alignment":"map","circle-radius":7,"circle-stroke-width":3,"circle-stroke-color":"#5cb83b"}},a),o.map.addLayer({id:"mile-markers",source:"mile-markers",type:"symbol",layout:{"icon-image":"pin","icon-offset":[0,-22],"icon-size":.4,"icon-text-fit":"width","icon-text-fit-padding":[0,28,0,28],"text-field":"{distance}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,-1.2]},paint:{"text-opacity":0,"icon-opacity":0,"text-color":"white","text-halo-color":"rgba(0,0,0,0.7)","text-halo-width":.75,"text-halo-blur":.5}},a),i&&i()}))}))}return l(t,[{key:"setMarkerColor",value:function(t){this.map.setPaintProperty("marker","circle-stroke-color",t)}},{key:"setMileMarkerOpacity",value:function(t){this.map.setPaintProperty("mile-markers","text-opacity",t),this.map.setPaintProperty("mile-markers","icon-opacity",t)}},{key:"setMileMarkers",value:function(t){this.map.getSource("mile-markers").setData(t||oe)}},{key:"setGlobalPadding",value:function(t){this.map.easeTo({padding:t,duration:0})}},{key:"setRouteData",value:function(t){this.map.getSource("route").setData(t||oe)}},{key:"setCenter",value:function(t){this.map.setCenter(t)}},{key:"setMarkerPosition",value:function(t){if(map.getLayer("marker")){var e=map.getSource("marker-point");e&&(t||this.map.setPaintProperty("marker","circle-opacity",0),this.map.setPaintProperty("marker","circle-opacity",1),e.setData(t?wt(t):oe))}}},{key:"setTerrain",value:function(t,e){var r=this.map.getTerrain();t||e?r?t!==r.exaggeration&&this.map.setTerrain({source:"mapbox-dem",exaggeration:t,"exaggeration-transition":{duration:1e3}}):this.map.setTerrain({source:"mapbox-dem",exaggeration:t}):r&&this.map.setTerrain(null)}},{key:"setSimplifiedMode",value:function(t){this.map.setLayoutProperty("mile-markers","visibility",t?"none":"visible");var e,r=_(ie);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.map.setPaintProperty(n,"text-opacity",t?0:1),this.map.setPaintProperty(n,"icon-opacity",t?0:1)}}catch(t){r.e(t)}finally{r.f()}}}]),t}(),le=function(){function t(e){a(this,t),this.onframe=e,this.raf=null,this.tPrev=null}return l(t,[{key:"start",value:function(){var t=this;this.raf=requestAnimationFrame((function e(r){var n=null===t.tPrev?0:r-t.tPrev;t.tPrev=r,t.onframe(r,n),t.raf=requestAnimationFrame(e)}))}},{key:"stop",value:function(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null,this.tPrev=null)}}]),t}();function ue(t,e,r){return r*e+(1-r)*t}var ce,he,fe,pe=function(){function t(e){a(this,t),this.tol=1e-10,this.value=null,this.target=null,this.time=null,this.timescale=e,this.changedc=!1}return l(t,[{key:"setTarget",value:function(t){this.target=t,this.changed=!0,null===this.value&&(this.value=this.target)}},{key:"tick",value:function(t){var e=this.value,r=Math.exp(-t*Math.LN2/this.timescale);this.value=ue(this.target,this.value,r),this.changed=Math.abs(e-this.value)>this.tol}},{key:"getValue",value:function(){if(null===this.value)throw new Error("invalid read of uninitialized smoother");return[this.value,this.changed]}},{key:"clear",value:function(){this.value=null,this.target=null,this.time=null,this.changed=!0}}]),t}(),de=function(t){return t/1.609},_e=function(){function t(){var e=this;a(this,t);var r=document.createElement("div");r.setAttribute("id","elevation-plot"),document.body.appendChild(r);var n=this.marker=document.createElement("div");n.classList.add("elevation-marker"),r.appendChild(n),this.margin={top:5,right:15,bottom:17,left:40},this.svg=d3.select(r).append("svg"),this.container=this.svg.append("g"),this.container.append("g").attr("class","x-axis axis"),this.container.append("g").attr("class","y-axis axis"),this.container.append("g").attr("class","grid x-grid"),this.container.append("g").attr("class","grid y-grid"),this.container.append("path").attr("class","elevation-fill"),this.container.append("path").attr("class","elevation"),this.data=null,window.addEventListener("resize",(function(){return e.draw()}))}return l(t,[{key:"getIndex",value:function(t){if(!this.data)return-1;for(var e,r=0,n=this.data.length-1;r<=n;){if(e=Math.floor((r+n)/2),this.data[e].distance===t)return e;this.data[e].distance<t?r=e+1:n=e-1}return e}},{key:"setProgress",value:function(t){if(this.data&&this.x&&this.y){arguments.length&&(this._progress=t);var e=this.data[this.data.length-1].distance,r=this.getIndex(e*this._progress),n=this.data[r].elevation;window.elplot=this;var i=this.x(de(e*this._progress))+this.margin.left,o=this.y(n)+this.margin.top;this.marker.style.transform="translate(".concat(i,"px,").concat(o,"px)")}}},{key:"draw",value:function(){if(this.data){this.width=Math.min(520-this.margin.left-this.margin.right,Math.max(Math.min(window.innerWidth,540),window.innerWidth-520-this.margin.left-this.margin.right)),this.width=Math.min(this.width,window.innerWidth-this.margin.left-this.margin.right),this.height=window.innerWidth<=640?60:100,this.svg.attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom),this.container.attr("transform","translate("+this.margin.left+","+this.margin.top+")");var t=this.x=d3.scaleLinear().domain([0,de(this.data[this.data.length-1].distance)]).range([0,this.width]),r=this.y=d3.scaleLinear().domain([this.minElevation,this.maxElevation]).range([this.height,0]),n=d3.axisBottom(t).ticks(10),i=d3.axisLeft(r).ticks(5);this.container.select(".x-axis").attr("transform","translate(0,"+this.height+")").call(n),this.container.select(".y-axis").call(i);var o=i.tickSize(-this.width).tickFormat("");this.container.select(".y-grid").call(o),this.container.select(".elevation").datum(this.data).attr("fill","none").attr("stroke","#5cb83b").attr("stroke-width",3).attr("d",d3.line().x((function(e){return de(t(e.distance))})).y((function(t){return r(t.elevation)})));var a=this.data.slice(),s=e({},a[a.length-1]),l=e({},a[0]);s.elevation=r.invert(this.height),l.elevation=r.invert(this.height),a.push(s,l),this.container.select(".elevation-fill").datum(a).attr("fill","#31814126").attr("stroke","none").attr("d",d3.line().x((function(e){return de(t(e.distance))})).y((function(t){return r(t.elevation)})))}}},{key:"setProfile",value:function(t){if(t&&(this.data=t),t){for(var e=1/0,r=-1/0,n=0;n<this.data.length;n++)e=Math.min(e,this.data[n].elevation),r=Math.max(r,this.data[n].elevation);var i=.5*(r-e);e-=.1*i,r+=.1*i,this.minElevation=e,this.maxElevation=r,this.draw()}}}]),t}(),me={bus:"#ba45b6",foot:"#5cb83b",metro:"#3388ff"},ve=function(){function t(){a(this,t),"undefined"!=typeof window&&(window.pageController=this),this.map=null,this._onload=[],this.loaded=!1,this.route=null,this.followProgress=new pe(150),this.dirty=!1,this.needsPaddingUpdate=!0,this.featureMode=null,this.followTimer=new le(this.step.bind(this))}return l(t,[{key:"initializeMap",value:function(t,e,r){var n=this;this.elevationPlot=new _e,this.map=new se(t,e,this.computeGlobalPadding(),(function(){for(n.loaded=!0;n._onload.length;)n._onload.pop()(n.map)}))}},{key:"ready",value:function(){var t=this;return this.loaded?Promise.resolve(this.map):new Promise((function(e){t._onload.push(e)}))}},{key:"setRoute",value:function(t,e,r){var n=this;this.dirty=!0,this.route=new ne(t),this.ready().then((function(){n.map.setRouteData(n.route.getGeojson()),n.map.setMileMarkers(n.route.getMileMarkers()),n.map.map.fitBounds(n.route.getBbox({mode:"foot"}),{duration:r?0:2e3}),n.elevationPlot.setProfile(n.route.getElevationProfile())}))}},{key:"clearRoute",value:function(){var t=this;this.route=null,this.followProgress.clear(),this.map.setMileMarkers(null),this.ready().then((function(){t.map.setRouteData(null)}))}},{key:"stop",value:function(){this.followTimer.stop()}},{key:"step",value:function(t,e){this.followProgress.tick(e);var r=h(this.followProgress.getValue(),2),n=r[0];if((r[1]||this.dirty)&&(this.dirty=!1,"follow"===this.mode))this.route&&(this.applyFollowProgress(n,this.followProgress.target),this.map.camera.tick(t))}},{key:"setFeatureMode",value:function(t){if(t||document.body.removeAttribute("data-feature-mode"),t!==this.featureMode){if(this.map.setMarkerColor(me[t||"metro"]),t&&document.body.setAttribute("data-feature-mode",t),"foot"===t)this.map.setMileMarkerOpacity(1);else this.map.setMileMarkerOpacity(0);this.featureMode=t}}},{key:"applyFollowProgress",value:function(t,e,r){if(this.route){var n=h(this.route.evaluate(e),1)[0],i=h(this.route.evaluate(t),2),o=i[0],a=i[1];this.applyGlobalPadding(),this.map.setTerrain("foot"===a.properties.mode?1.3:0,!0),this.map.camera.targetCenter=n,this.map.camera.targetPitch=40,this.setFeatureMode(a.properties.mode),"foot"===a.properties.mode?this.map.camera.targetDistance=4500:"bus"===a.properties.mode?this.map.camera.targetDistance=9e3:this.map.camera.targetDistance=12e3,this.map.setMarkerPosition(o),"foot"===a.properties.mode&&this.elevationPlot.setProgress(t%1)}}},{key:"computeGlobalPadding",value:function(){var t={top:60,right:60,bottom:60,left:60};return!this.mode||"bound"===this.mode?t.bottom=.3*window.innerHeight+60:t.left=Math.max(60,Math.min(580,window.innerWidth-520)),t}},{key:"applyGlobalPadding",value:function(){this.needsPaddingUpdate&&(this.needsPaddingUpdate=!1,this.map.setGlobalPadding(this.computeGlobalPadding()))}},{key:"setProgress",value:function(t,e){var r=this,n=t!==this.mode;switch(this.mode=t,n&&(this.needsPaddingUpdate=!0),this.mode){case"bound":this.setFeatureMode(null),this.applyGlobalPadding(),this.map.setTerrain(null),this.map.camera.clear(),this.followProgress.clear(),n&&(this.followTimer.stop(),this.map.setMarkerPosition(null),this.route&&(this.map.map.fitBounds(this.route.getBbox({mode:"foot"}),{duration:1e3}),this.map.map.once("idle",(function(){return r.map.map.easeTo({pitch:0})}))));break;case"follow":n&&this.followTimer.start(),this.followProgress.setTarget(e);break;default:throw new Error("invalid route mode: ".concat(t))}}},{key:"setSimplifiedMode",value:function(t){this.map.setSimplifiedMode(t)}}]),t}(),ge=function(t,e){var r={__c:e="__cC"+k++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some(F)},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r}(new ve);function ye(t){var e=ht(ge),r=ct(null);return ut((function(){e.initializeMap(r.current,t.initialBounds)}),[]),X(ce||(ce=c(["<div ref=",' class="mbxmap"/>'])),r)}var be,we=/^http/,ke=!0,xe=["","introduction/"];function Pe(t){var e=t.page,n=t.setPath,i=ct(null),a=ht(ge),s=""===e.metadata.path,l=e.metadata.isFront;function u(t){var e="A"===t.target.tagName?t.target:t.target.closest("a");if(e){var r=e.getAttribute("href");we.test(r)||(r.endsWith("/")||(r+="/"),"/"===r&&(r=""),t.stopPropagation(),t.preventDefault(),n(r))}}return ut(o(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ready();case 2:a.setSimplifiedMode(-1!==xe.indexOf(e.metadata.path)),(n=e.metadata.routeurl)?fetch(n).then((function(t){if(!t.ok)throw new Error("failed to load route");return t.json()})).then((function(t){a.setRoute(t,e.metadata.bounds,ke),window.dispatchEvent(new CustomEvent("scroll")),ke=!1})):(a.clearRoute(ke?null:e.metadata.bounds),ke=!1);case 5:case"end":return t.stop()}}),t)}))),[]),ut((function(){if(i.current){i.current.addEventListener("click",u);var t=i.current.querySelectorAll("[data-route-mode]"),e=function(t){return r()};return window.addEventListener("scroll",r),window.addEventListener("resize",e),e(),function(){i.current.removeEventListener("click",u),window.removeEventListener("scroll",r),window.removeEventListener("resize",e)}}function r(e){var r,n,i=.15*window.innerHeight,o=[],s=_(t);try{for(s.s();!(r=s.n()).done;){var l=r.value;o.push(l.getBoundingClientRect().y-i)}}catch(t){s.e(t)}finally{s.f()}for(n=0;n<o.length&&o[n]<0;n++);n=Math.max(n-1,0);var u=t[Math.max(0,n)],c=t[Math.min(n+1,t.length-1)],h=Math.max(0,Math.min(1,-o[n]/(o[n+1]-o[n]))),f=u?parseFloat(u.getAttribute("data-route-progress")):0,p=c?parseFloat(c.getAttribute("data-route-progress")):f;isNaN(p)&&(p=f);var d=ue(f,p,h),m=u?u.getAttribute("data-route-mode"):"bound";a.setProgress(m,d)}}),[]),X(he||(he=c(['\n    <div class="articleContainer '," ",'">\n      <div class="articleHeader">\n        ',"\n        <h1>",'</h1>\n        <div class="article_date">','</div>\n      </div>\n      <div class="articleBody">\n        ',"\n        <div ref="," dangerouslySetInnerHTML=","/>\n      </div>\n    </div>"])),l?"is-front":"",s?"is-home":"",s?"":X(fe||(fe=c(['<a href="" onClick=',">← Back</a>"])),(function(t){return u(t)})),e.metadata.title,e.metadata.date,"",i,{__html:e.articleHTML})}var Me=new Map;!function(t,e,r){var n,i,o;v.__&&v.__(t,e),i=(n="function"==typeof r)?null:r&&r.__k||e.__k,o=[],B(e,t=(!n&&r||e).__k=L(C,null,[t]),i||x,x,void 0!==e.ownerSVGElement,!n&&r?[r]:i?null:e.firstChild?m.call(e.childNodes):null,o,!n&&r?r:i?i.__e:e.firstChild,n),W(o,t)}(L((function(t){var e=h(lt(t.page.metadata.path),2),r=e[0],n=e[1],i=h(lt(t.page),2),o=i[0],a=i[1],s=h(lt(!1),2),l=s[0],u=s[1],f=ht(ge);return ut((function(){var t="".concat(o.baseURL).concat(r).replace(/\/\//g,"/");history.pushState({page:o,path:r},"",t),window.addEventListener("popstate",(function(t){n(t.state.path),a(t.state.page),f.stop()}))}),[]),ut((function(){if(r!==o.metadata.path&&!l){var t=window.manifest[r];u(!0),history.pushState({path:r,page:null},"",r),function(t){return Me.has(t)?Promise.resolve(Me.get(t)):fetch(t).then((function(t){if(!t.ok)throw new Error("404d!");return t.json()})).then((function(e){return Me.set(t,e),e}))}(t).then((function(t){a(t),history.replaceState({path:r,page:t},"",r)})).then((function(){return u(!1)}),(function(){return u(!1)}))}})),X(be||(be=c(["\n    <"," initialBounds="," isHome=",'/>\n    <div class="left-spacer"/>\n    <'," key="," page="," setPath=",'/>\n    <div class="right-spacer"/>\n  '])),ye,o.metadata.bounds,"/"===o.metadata.path,Pe,o.metadata.path||"/",o,(function(){n.apply(void 0,arguments),window.scrollTo(0,0)}))}),{page:window.page}),document.getElementById("root"))}));
//# sourceMappingURL=bundle.js.map
